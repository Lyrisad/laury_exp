<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="questionnaire">Questionnaire - Questionnaire de Satisfaction</title>
    <link rel="icon" href="images/M√©daillon_Candor_Logo.png" type="image/png">
    <link rel="stylesheet" href="styles/questionnaire.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="images/logo GC copie.png" alt="Logo Candor" class="header-logo">
        </div>
        <nav>
            <ul>
                <li><a href="index.html" data-translate="home">Accueil</a></li>
                <li><a href="presentation.html" data-translate="presentation">Pr√©sentation</a></li>
                <li><a href="questionnaire.html" data-translate="questionnaire">Sondage</a></li>
                <li><a href="admin.html" data-translate="admin">Administration</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Section d'acc√®s refus√© qui s'affiche si le consentement n'a pas √©t√© donn√© -->
        <section id="consent-check" class="consent-check" style="display: none;">
            <div class="consent-message-container">
                <div class="consent-icon">üîí</div>
                <h2 data-translate="accessDenied">Acc√®s au questionnaire</h2>
                <p data-translate="consentRequired">Veuillez consulter la pr√©sentation et cocher la case de consentement pour acc√©der au questionnaire.</p>
                <a href="presentation.html" class="cta-button" data-translate="goToPresentation">Aller √† la pr√©sentation</a>
            </div>
        </section>
        
        <section class="questionnaire" id="questionnaire-content">
            <h1 data-translate="questionnaire">Questionnaire de Satisfaction</h1>
            
            <!-- Modal de disclaimer -->
            <div id="disclaimerModal" class="disclaimer-modal">
                <div class="disclaimer-content">
                    <h2 data-translate="disclaimerTitle">Confidentialit√© et Utilisation des Donn√©es</h2>
                    <div class="disclaimer-text">
                        <p data-translate="disclaimerText1">Ce questionnaire est enti√®rement anonyme. Aucune information permettant de vous identifier ne sera collect√©e.</p>
                        <p data-translate="disclaimerText2">Les donn√©es recueillies seront utilis√©es par le <span class="strong">Groupe Candor</span> <span data-translate="disclaimerText3">√† des fins statistiques pour :</span></p>
                        <ul>
                            <li data-translate="disclaimerList1">Am√©liorer nos services et produits</li>
                            <li data-translate="disclaimerList2">Analyser les tendances et besoins</li>
                            <li data-translate="disclaimerList3">D√©velopper de nouvelles id√©es</li>
                            <li data-translate="disclaimerList4">Optimiser l'exp√©rience au travail</li>
                        </ul>
                        <p data-translate="disclaimerText4">En participant √† ce questionnaire, vous acceptez que vos r√©ponses soient utilis√©es dans le cadre de ces analyses statistiques.</p>
                    </div>
                    <div class="disclaimer-actions">
                        <button id="acceptDisclaimer" class="accept-button" data-translate="disclaimerAccept">J'accepte et je continue</button>
                    </div>
                </div>
            </div>

            <div id="questionnaire-closed" class="questionnaire-closed" style="display: none;">
                <div class="closed-icon">üîí</div>
                <h2 data-translate="questionnaireClosed">Questionnaire ferm√©</h2>
                <p data-translate="questionnaireClosedMessage">Le questionnaire est actuellement ferm√©. Veuillez r√©essayer ult√©rieurement.</p>
            </div>

            <!-- Barre de progression sticky √† droite -->
            <div class="progress-sticky" id="progressSticky">
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div id="progressPercentage">0%</div>
                </div>
            </div>

            <form id="questionnaireForm">
                <div class="form-section">
                    <h2 data-translate="generalInfo">Informations g√©n√©rales</h2>
                    
                    <div class="form-group">
                        <label for="sexe" data-translate="gender">Genre</label>
                        <select id="sexe" name="sexe" required data-translate-options="gender">
                            <option value="" data-translate="selectGender">S√©lectionnez votre genre</option>
                            <option value="Homme" data-translate="male">Homme</option>
                            <option value="Femme" data-translate="female">Femme</option>
                            <option value="Non genr√©" data-translate="nonGendered">Non genr√©</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="age" data-translate="age">Tranche d'√¢ge :</label>
                        <select id="age" name="age" required data-translate-options="age">
                            <option value="" data-translate="selectAge">S√©lectionnez votre tranche d'√¢ge</option>
                            <option value="Moins de 20 ans" data-translate="age1">Moins de 20 ans</option>
                            <option value="20-29 ans" data-translate="age2">20-29 ans</option>
                            <option value="30-39 ans" data-translate="age3">30-39 ans</option>
                            <option value="40-49 ans" data-translate="age4">40-49 ans</option>
                            <option value="50-59 ans" data-translate="age5">50-59 ans</option>
                            <option value="Plus de 60 ans" data-translate="age6">Plus de 60 ans</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="poste" data-translate="position">Fonction :</label>
                        <select id="poste" name="poste" required data-translate-options="position">
                            <option value="" data-translate="selectPosition">S√©lectionnez votre fonction</option>
                            <option value="Fonctions supports" data-translate="position8">Fonctions supports</option>
                            <option value="Managers Quadri" data-translate="position9">Managers Quadri</option>
                            <option value="Exploitation" data-translate="position10">Exploitation</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="satisfaction">Questionnaire de satisfaction</h2>
                    <div id="questionsContainer">
                        <div class="loader"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label data-translate="experienceRating">Comment √©valuez-vous votre exp√©rience avec ce questionnaire ?</label>
                    <div class="rating-container">
                        <div class="rating-stars">
                            <div class="star-container" data-value="1">
                                <div class="star" data-value="1">‚òÖ</div>
                            </div>
                            <div class="star-container" data-value="2">
                                <div class="star" data-value="2">‚òÖ</div>
                            </div>
                            <div class="star-container" data-value="3">
                                <div class="star" data-value="3">‚òÖ</div>
                            </div>
                            <div class="star-container" data-value="4">
                                <div class="star" data-value="4">‚òÖ</div>
                            </div>
                            <div class="star-container" data-value="5">
                                <div class="star" data-value="5">‚òÖ</div>
                            </div>
                        </div>
                        <input type="hidden" name="satisfaction" class="rating-value" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="commentaires" data-translate="commentsLabel">Avez-vous des commentaires/suggestions √† nous partager ?</label>
                    <textarea id="commentaires" name="commentaires" rows="4" placeholder="Vos commentaires sont pr√©cieux pour nous aider √† am√©liorer ce questionnaire..." data-translate-placeholder="commentsPlaceholder"></textarea>
                </div>

                <button type="submit" class="submit-button" data-translate="submit">Envoyer le questionnaire</button>
            </form>
        </section>

        <!-- Modal de succ√®s -->
        <div id="successModal" class="success-modal">
            <div class="success-modal-content">
                <div class="success-icon">üéâ</div>
                <h2 data-translate="successTitle">F√©licitations!</h2>
                <p data-translate="successMessage">Merci pour votre participation! Votre questionnaire a √©t√© envoy√© avec succ√®s.</p>
                <p data-translate="successAppreciation">Vos r√©ponses sont pr√©cieuses pour nous et nous aideront √† am√©liorer nos services.</p>
                <button id="finishButton" class="finish-button" data-translate="finishButton">Terminer</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <img src="images/logo GC copie.png" alt="Logo Candor" class="footer-logo">
                <p class="footer-description" data-translate="footerDescription">Votre satisfaction est notre priorit√©. Merci de contribuer √† l'am√©lioration continue de nos services.</p>
            </div>
            <div class="footer-column">
                <h3 data-translate="footerNavigation">Navigation</h3>
                <ul class="footer-links">
                    <li><a href="index.html" data-translate="home">Accueil</a></li>
                    <li><a href="presentation.html" data-translate="presentation">Pr√©sentation</a></li>
                    <li><a href="questionnaire.html" data-translate="questionnaire">Sondage</a></li>
                    <li><a href="admin.html" data-translate="admin">Administration</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3 data-translate="footerContact">Contact</h3>
                <p><strong>CANDOR</strong></p>
                <p><i class="footer-icon">üìß</i> dparisi@groupecandor.fr</p>
                <p><i class="footer-icon">üì±</i> +33 02 32 63 43 10</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p data-translate="copyright">&copy; 2025 Questionnaire de Satisfaction cr√©e par Daryl PARISI pour l'entreprise CANDOR. Tous droits r√©serv√©s.</p>
        </div>
    </footer>

    <!-- Charger les scripts dans l'ordre appropri√© -->
    <script src="translations.js"></script>
    <script src="language.js"></script>
    <script src="script.js"></script>
    <script src="clickTracker.js"></script>
</body>
</html> 